<!DOCTYPE html>
<html lang="en">
<head>
  <%- include('./partials/head') %>
  <title>ThoughtDock - Share Your Stories</title>
</head>
<body>
  <%- include('./partials/nav') %>

  <div class="main-content">
    <div class="hero-section">
      <div class="container">
        <h1 class="hero-title float-animation">
          Unleash Your Creativity
        </h1>
        <p class="hero-subtitle">
          Discover inspiring stories, share your thoughts, and connect with amazing writers from around the world
        </p>
        <% if (!locals.user) { %>
        <div class="mt-4">
          <a href="/user/signup" class="btn btn-primary btn-lg me-3">
            <i class="fas fa-rocket me-2"></i> Get Started
          </a>
          <a href="/user/signin" class="btn btn-outline-primary btn-lg">
            <i class="fas fa-sign-in-alt me-2"></i> Sign In
          </a>
        </div>
        <% } %>
      </div>
    </div>

    <div class="container content-wrapper">
      <% if (blogs.length === 0) { %>
        <div class="text-center py-5">
          <div class="mb-4">
            <i class="fas fa-pen-nib" style="font-size: 5rem; color: var(--primary); opacity: 0.3;"></i>
          </div>
          <h2 class="mb-3" style="color: var(--dark); font-weight: 700;">No Stories Yet</h2>
          <p class="text-muted mb-4">Be the pioneer! Share your first story and inspire others.</p>
          <% if (locals.user) { %>
            <a href="/blog/add-new" class="btn btn-primary btn-lg">
              <i class="fas fa-plus-circle me-2"></i> Create Your First Blog
            </a>
          <% } else { %>
            <a href="/user/signup" class="btn btn-primary btn-lg">
              <i class="fas fa-user-plus me-2"></i> Join Now
            </a>
          <% } %>
        </div>
      <% } else { %>
        <div class="text-center mb-5">
          <h2 style="font-family: 'Outfit', sans-serif; font-weight: 800; font-size: 2.5rem; color: var(--dark);">
            <i class="fas fa-book-open me-3" style="color: var(--primary);"></i>
            Latest Stories
          </h2>
          <p class="text-muted">Explore the most recent posts from our community</p>
        </div>

        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
          <% blogs.forEach((blog, index) => { %>
          <div class="col" style="animation: fadeInUp 0.6s ease-out <%= index * 0.1 %>s both;">
            <div class="blog-card">
              <div style="overflow: hidden;">
                <img src="<%= blog.coverImageURL %>" alt="<%= blog.title %>">
              </div>
              <div class="card-body">
                <h5 class="card-title"><%= blog.title %></h5>
                <p class="card-text">
                  <%= blog.body.substring(0, 120) %><%= blog.body.length > 120 ? '...' : '' %>
                </p>
                <div class="d-flex justify-content-between align-items-center mt-4">
                  <span class="date-badge">
                    <i class="far fa-calendar-alt"></i>
                    <%= new Date(blog.createdAt).toLocaleDateString('en-US', { month: 'short', day: 'numeric' }) %>
                  </span>
                  <a href="/blog/<%= blog._id %>" class="btn btn-primary btn-sm">
                    Read More <i class="fas fa-arrow-right ms-1"></i>
                  </a>
                </div>
              </div>
            </div>
          </div>
          <% }) %>
        </div>
      <% } %>
    </div>
  </div>

  <%- include('./partials/scripts') %>
</body>
</html>