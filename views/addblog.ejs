<!DOCTYPE html>
<html lang="en">
<head>
  <%- include('./partials/head') %>
  <title>Create Your Story - PostForge</title>
</head>
<body>
  <%- include('./partials/nav') %>

  <div class="main-content">
    <div class="hero-section" style="padding: 80px 0 40px;">
      <div class="container">
        <h1 class="hero-title" style="font-size: 4rem;">
          <i class="fas fa-feather-alt"></i> Craft Your Story
        </h1>
        <p class="hero-subtitle">
          Share your unique perspective with the world. Every story matters.
        </p>
      </div>
    </div>

    <div class="container">
      <div class="content-wrapper" style="max-width: 900px;">
        <form action="/blog" method="post" enctype="multipart/form-data">
          
          <div class="mb-5">
            <label for="title" class="form-label">
              <i class="fas fa-heading me-2" style="color: var(--primary);"></i>
              Blog Title
            </label>
            <input 
              type="text"
              class="form-control"
              id="title"
              name="title"
              placeholder="Give your story a captivating title..."
              required
              style="font-size: 1.3rem; font-weight: 600;">
          </div>

          <div class="mb-5">
            <label for="coverImage" class="form-label">
              <i class="fas fa-image me-2" style="color: var(--primary);"></i>
              Cover Image
            </label>
            <div style="position: relative;">
              <input 
                type="file"
                class="form-control"
                id="coverImage"
                name="coverImage"
                accept="image/*"
                required
                onchange="previewImage(event)">
              <div class="form-text mt-2">
                <i class="fas fa-info-circle me-1"></i>
                Choose a stunning cover image that represents your story
              </div>
            </div>
            <div id="imagePreview" class="mt-4" style="display: none;">
              <img id="preview" style="width: 100%; max-height: 400px; object-fit: cover; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.2);">
            </div>
          </div>

          <div class="mb-5">
            <label for="body" class="form-label">
              <i class="fas fa-align-left me-2" style="color: var(--primary);"></i>
              Your Story
            </label>
            <textarea 
              class="form-control"
              name="body"
              id="body"
              placeholder="Tell your story... Let your creativity flow!"
              required
              style="font-size: 1.1rem; line-height: 1.8;"></textarea>
            <div class="form-text mt-2">
              <i class="fas fa-lightbulb me-1"></i>
              Write from your heart. Be authentic and engaging.
            </div>
          </div>

          <div class="d-flex gap-3">
            <button class="btn btn-primary btn-lg flex-grow-1" type="submit">
              <i class="fas fa-paper-plane me-2"></i>
              Publish Story
            </button>
            <a href="/" class="btn btn-outline-primary btn-lg">
              <i class="fas fa-times me-2"></i>
              Cancel
            </a>
          </div>
        </form>
      </div>
    </div>
  </div>

  <%- include('./partials/scripts') %>
  
  <script>
    function previewImage(event) {
      const preview = document.getElementById('preview');
      const previewContainer = document.getElementById('imagePreview');
      const file = event.target.files[0];
      
      if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
          preview.src = e.target.result;
          previewContainer.style.display = 'block';
          previewContainer.style.animation = 'fadeInUp 0.5s ease-out';
        }
        reader.readAsDataURL(file);
      }
    }
  </script>
</body>
</html>